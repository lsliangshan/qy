<template>
  <div class="container"
       :style="containerStyles"
       v-if="!forceHide">
    <svg>
      <g class="pmspacesvg">
        <!-- <rect height="10"
              width="10"
              x="0"
              y="44.540000915527344"></rect> -->
        <!-- <rect height="10"
              width="10"
              x="70"
              y="0"></rect> -->
        <g>
          <rect stroke-width="2"
                x="0"
                y="0"
                width="80"
                height="54.53999900817871"
                rx="10"
                ry="10"></rect>
          <g transform="translate(15,15)">
            <g class="tp-name"
               fill="#fff">
              <g>
                <path transform="translate(-1.25,23.125)"
                      d="M13.28-23.13L13.28-23.13L13.28-23.13Q13.59-23.13 14.22-22.81L14.22-22.81L14.22-22.81Q14.69-22.66 15-22.66L15-22.66L15-22.66Q22.81-21.56 24.38-12.34L24.38-12.34L24.38-12.34Q24.38-12.19 24.53-11.88L24.53-11.88L24.53-11.88Q24.53-11.41 24.53-11.25L24.53-11.25L24.53-11.25Q24.53-5 20.63-2.50L20.63-2.50L20.31-2.19L20.47-2.03L20.47-2.03Q22.66-0.16 26.88 0L26.88 0L26.88 0Q25 0.94 22.81 1.41L22.81 1.41L22.81 1.41Q22.66 1.41 22.50 1.41L22.50 1.41L22.50 1.41Q22.50 1.41 22.19 1.25L22.19 1.25L22.19 1.25Q21.88 0.94 18.91-1.25L18.91-1.25L18.44-1.41L18.44-1.41Q16.72-0.31 12.66-0.16L12.66-0.16L12.50-0.16L12.50-0.16Q1.88-0.63 1.25-10.94L1.25-10.94L1.25-10.94Q2.19-21.09 11.25-22.50L11.25-22.50L11.25-22.50Q12.34-22.66 12.66-22.97L12.66-22.97L12.66-22.97Q12.81-23.13 13.28-23.13ZM18.28-3.13L18.28-3.13L18.59-3.13L18.59-3.13Q22.81-5.78 22.81-11.41L22.81-11.41L22.81-12.19L22.81-12.19Q21.25-20.31 13.13-20.94L13.13-20.94L13.13-20.94Q3.91-20 2.97-10.94L2.97-10.94L2.97-10.78L2.97-10.78Q3.44-2.66 12.66-1.56L12.66-1.56L12.81-1.56L12.81-1.56Q16.25-1.88 16.88-2.66L16.88-2.66L16.88-2.66Q17.03-2.81 16.72-2.97L16.72-2.97L16.72-2.97Q15.78-3.59 13.59-4.69L13.59-4.69L13.59-4.69Q12.97-5 12.66-5.16L12.66-5.16L12.66-5.16Q12.50-5.31 12.50-5.63L12.50-5.63L12.50-5.63Q12.50-7.19 14.38-7.66L14.38-7.66L14.38-7.50L14.38-7.50Q14.06-6.25 18.28-3.13ZM38.59-12.66L38.59-12.66L38.91-12.66L38.91-12.66Q43.44-15.63 47.97-22.66L47.97-22.66L47.97-22.66Q48.28-22.81 48.59-22.81L48.59-22.81L48.59-22.81Q49.22-22.81 51.25-22.03L51.25-22.03L51.25-22.03Q51.25-22.03 51.25-21.88L51.25-21.88L51.25-21.88Q51.25-21.72 51.09-21.41L51.09-21.41L51.09-21.41Q50.31-20.78 49.38-20L49.38-20L49.38-20Q49.22-19.84 48.91-19.53L48.91-19.53L48.91-19.53Q41.72-13.28 40.47-10.63L40.47-10.63L40.31-10.47L40.31-10.47Q40.31-9.53 40.31-8.59L40.31-8.59L40.31-8.59Q40.31-3.75 41.25-2.19L41.25-2.19L41.25-2.19Q41.25-2.19 41.09-1.56L41.09-1.56L41.09-1.56Q40.47-0.31 39.06-0.16L39.06-0.16L39.06-0.16Q37.97-0.31 37.97-1.56L37.97-1.56L37.97-1.88L37.97-1.88Q37.97-2.19 37.97-2.34L37.97-2.34L37.97-2.34Q37.97-2.97 38.13-4.53L38.13-4.53L38.13-4.53Q38.28-6.88 38.28-7.97L38.28-7.97L38.28-7.97Q38.28-9.22 38.13-10.16L38.13-10.16L38.13-10.31L38.13-10.31Q32.81-16.25 27.50-19.38L27.50-19.38L27.50-19.38Q26.72-19.84 26.72-20.31L26.72-20.31L26.72-20.63L26.72-20.63Q26.88-22.19 28.28-22.97L28.28-22.97L28.59-22.97L28.59-22.97Q28.59-22.19 29.38-21.25L29.38-21.25L29.53-21.09L29.53-21.09Q29.69-20.94 30-20.63L30-20.63L30-20.63Q36.25-14.22 38.59-12.66Z"></path>
              </g>
            </g>
          </g>
        </g>
        <rect stroke="#fff"
              stroke-width="2"
              x="5"
              y="5"
              fill-opacity="0"
              rx="10"
              width="70"
              height="44.540000915527344"></rect>
      </g>
    </svg>
  </div>
</template>
<style scoped lang="less">
.container {
  position: relative;
  width: 100%;
  height: 100%;
  transition: all 0.3s ease-in-out;
  background-color: @theme-color;
  display: flex;
  flex-direction: row;
  align-items: flex-end;
  justify-content: center;
}
.container svg {
  width: 80px;
  height: 55px;
  z-index: 1;
  transform: scale(0.45);
}
.pmspacesvg {
  fill: @theme-color;
}
</style>
<script>
export default {
  name: 'Greeting',
  props: {
    hide: {
      type: Boolean,
      default: false
    }
  },
  data () {
    return {
      greetingLoad: false,
      forceHide: this.$route.name !== 'Home'
    }
  },
  computed: {
    containerStyles () {
      return {
        opacity: this.greetingLoad ? 0 : 1
      }
    }
  },
  created () {
    this.$nextTick(() => {
      setTimeout(() => {
        this.finished(300)
      }, 800)
    })
  },
  methods: {
    finished (delay = 0) {
      this.greetingLoad = true
      setTimeout(() => {
        this.$emit('finish')
      }, delay)
    }
  },
  watch: {
    hide: {
      immediate: true,
      handler (val) {
        if (val) {
          this.finished()
        }
      }
    }
  }
}
</script>

